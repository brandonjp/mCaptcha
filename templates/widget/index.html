<!--
SPDX-FileCopyrightText: 2023 Aravinth Manivannan <realaravinth@batsense.net>

SPDX-License-Identifier: MIT OR Apache-2.0
-->

<. include!("../components/headers/widget-headers.html"); .>
  <body>
    <main class="widget__container">
      <form class="widget__inner-container">
          <noscript>
            <div class="widget__noscript-container">
              <span class="widget__noscript-warning">
                Please enable JavaScript to receive mCaptcha challenge
              </span>
              <a class="widget__source-code" href="https://github.com/mCaptcha">
                Read our source code
              </a>
           </div>
        </noscript>
        <label class="widget__verification-container" for="widget__verification-checkbox">
          <span id="widget__verification-text"
            >I'm not a robot</span>
          <input disabled
              id="widget__verification-checkbox"
              aria-valuenow="I'm not a robot"
                aria-checked="false"
                role="checkbox"
              class="widget__verification-checkbox"
          type="checkbox" />
        </label>
        <div class="widget__mcaptcha-details" data-use-favicon="<.= crate::SETTINGS.get_use_favicon() .>">
          <a href="<.= crate::SETTINGS.get_brand_link() .>"
              class="widget__mcaptcha-logo-container"
              target="_blank"
              rel="noopener noreferrer"
              aria-label="<.= crate::SETTINGS.get_brand_name() .> - powered by mCaptcha"
           >
            <. if let Some(logo_url) = crate::SETTINGS.get_logo_url() { .>
            <img
              class="widget__mcaptcha-logo"
              src="<.= logo_url .>"
              alt="<.= crate::SETTINGS.get_brand_name() .>"
            />
            <. } else { .>
            <img
              class="widget__mcaptcha-logo"
              src="<.= crate::FILES.get("./static/cache/img/icon-trans.png").unwrap().>"
              alt="mCaptcha logo"
            />
            <. } .>
            <p class="widget__mcaptcha-brand-name"><.= crate::SETTINGS.get_brand_name() .></p>
          </a>
          <div class="widget__mcaptcha-info-container">
            <a class="widget__mcaptcha-info-link"
              target="_blank"
              rel="noopener noreferrer"
              href="<.= crate::SETTINGS.get_brand_link() .><.= crate::PAGES.privacy .>">
              Privacy
            </a>
            <a class="widget__mcaptcha-info-link"
              target="_blank"
              rel="noopener noreferrer"
              href="<.= crate::SETTINGS.get_brand_link() .><.= crate::PAGES.security .>">
              Terms
            </a>
          </div>
        </div>
      </form>
      <div class="progress__bar"><div 
             aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"
             role="progressbar" class="progress__fill"></div></div>
    </main>
<.include!("./footer.html"); .>
